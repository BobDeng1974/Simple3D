attribute vec4 aPos;
attribute vec3 aNormal;
attribute vec2 aTex;

varying vec2 vTex;
varying vec3 vN;
varying vec3 vL;
varying vec3 vH;

uniform vec4 lightpos;
uniform vec4 eyepos;

uniform mat4 M;
uniform mat4 V;
uniform mat4 P;

void main()
{
    vec4 pos = aPos*M*V;
    gl_Position = pos*P;
    vL = vec3(lightpos-pos);
    vN = vec3(vec4(aNormal,1.0)*V*M);
    vTex = aTex;
    vH = vec3(vL+lightpos-eyepos);
}
